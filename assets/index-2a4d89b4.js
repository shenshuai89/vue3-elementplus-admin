import{J as e,a,a0 as s,m as l,X as r,R as o,ag as n,l as d,a7 as i,Q as t,p as u,V as p,aA as m,aB as c,aC as v}from"./vue-12cb0627.js";import{s as g,_ as f}from"./index-61e62b51.js";import{E as y}from"./element-plus-06751a6d.js";const k=e=>(c("data-v-501ddb1d"),e=e(),v(),e),w={class:"login-container"},_=k((()=>u("div",{class:"title-container"},[u("h3",{class:"title"},"用户登录")],-1))),h={class:"show-pwd"},b={class:"login-btn"},z=k((()=>u("p",{class:"login-tips"},"用户名: admin 或 editor 密码: any",-1))),V=f(e({__name:"index",setup(e){const c=m(),v=a(!1),f=a(!0),k=a("password"),V=a(),C=s({username:"",password:""}),x=s({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),U=()=>{f.value?k.value="text":k.value="password",f.value=!f.value},j=async()=>{var e;null==(e=V.value)||e.validate((e=>{e?(v.value=!0,g.dispatch("user/login",C).then((()=>{c.push("/")})).catch((()=>{v.value=!1})).finally((()=>{v.value=!1}))):y.error("请输入用户名和密码")}))};return(e,a)=>{const s=n("I"),m=n("el-input"),c=n("el-form-item"),g=n("el-button"),y=n("el-form");return d(),l("div",w,[r(y,{ref_key:"loginFormRef",ref:V,class:"login-form",model:C,rules:x},{default:o((()=>[_,r(c,{prop:"username"},{default:o((()=>[r(m,{modelValue:C.username,"onUpdate:modelValue":a[0]||(a[0]=e=>C.username=e),clearable:"",placeholder:"请输入用户名",size:"large"},{prepend:o((()=>[r(s,{name:"UserFilled",size:"14"})])),_:1},8,["modelValue"])])),_:1}),r(c,{prop:"password"},{default:o((()=>[r(m,{modelValue:C.password,"onUpdate:modelValue":a[1]||(a[1]=e=>C.password=e),placeholder:"密码",size:"large",type:k.value,onKeyup:i(j,["enter"])},{prepend:o((()=>[f.value?(d(),t(s,{key:0,name:"Lock",size:"14",onClick:U})):(d(),t(s,{key:1,name:"Unlock",size:"14",onClick:U}))])),_:1},8,["modelValue","type","onKeyup"]),u("span",h,["password"===k.value?(d(),t(s,{key:0,name:"View",size:"14",onClick:U})):(d(),t(s,{key:1,name:"Hide",size:"14",onClick:U}))])])),_:1}),u("div",b,[r(g,{type:"primary",size:"large",style:{width:"100%","margin-bottom":"10px"},loading:v.value,onClick:j},{default:o((()=>[p("登录")])),_:1},8,["loading"])]),z])),_:1},8,["model","rules"])])}}}),[["__scopeId","data-v-501ddb1d"]]);export{V as default};
