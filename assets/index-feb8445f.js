import{E as e}from"./element-plus-06751a6d.js";import{J as a,a as t,a0 as l,m as n,X as o,R as r,ag as s,l as i,V as u,W as c,p as d,F as v,a6 as m}from"./vue-12cb0627.js";import{_ as p}from"./index-61e62b51.js";const f={class:"placeholder-container"},g=["innerHTML"],x=["textContent"],_={class:"list-show"},b=["onClick"],C=p(a({__name:"index",setup(a){const p=t(!1),C=t(""),h=t(""),T=l([{label:"姓名",value:"name"},{label:"年龄",value:"age"},{label:"电话",value:"phone"}]),w=l({content:""});let k,R=window.getSelection();const A=()=>{p.value=!p.value,C.value=h.value},H=e=>{R=window.getSelection(),R&&(k=R.getRangeAt(0),k.deleteContents()),M(e)},L=e=>{M(e)},M=e=>{p.value?h.value=e.target.innerText:h.value=e.target.innerHTML},S=a=>{if(window.getSelection()&&k){if((null==R?void 0:R.getRangeAt)&&R.rangeCount){var t=document.createElement("div");p.value?t.innerText=a:t.innerHTML=a;for(var l,n,o=document.createDocumentFragment();l=t.firstChild;)n=o.appendChild(l);k.insertNode(o),n&&(k=k.cloneRange(),k.setStartAfter(n),k.collapse(!0),R.removeAllRanges(),R.addRange(k))}}else e.error("请先选择输入框")};return(e,a)=>{const t=s("el-form-item"),l=s("el-form"),h=s("el-button");return i(),n("div",f,[o(l,{ref:"form",model:w},{default:r((()=>[o(t,{prop:"form.content"},{default:r((()=>[u(" 占位符插入 "),p.value?(i(),n("div",{key:1,contenteditable:!0,class:"el-textarea__inner el-textarea placeholderTextarea",textContent:c(C.value),onBlur:a[2]||(a[2]=e=>H(e)),onInput:a[3]||(a[3]=e=>L(e))},null,40,x)):(i(),n("div",{key:0,contenteditable:!0,class:"el-textarea__inner el-textarea placeholderTextarea",innerHTML:C.value,onBlur:a[0]||(a[0]=e=>H(e)),onInput:a[1]||(a[1]=e=>L(e))},null,40,g))])),_:1}),d("div",_,[(i(!0),n(v,null,m(T,(e=>(i(),n("p",{key:e.value,class:"insert-item",onClick:a=>(e=>{const a=`<span class="placeholder-varible" contenteditable="false">{{ ${e} }}</span>`;S(a),w.content=a})(e.value)},c(e.label),9,b)))),128))])])),_:1},8,["model"]),o(h,{onClick:A},{default:r((()=>[u("显示源码")])),_:1})])}}}),[["__scopeId","data-v-f3cd0401"]]);export{C as default};
